<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Web-IBEXVis</title>
    <script src="ibexvis.js" type="module"></script>
    <link rel="stylesheet" href="ibexvis.css">
  </head>
  <body>
    <div class="main-wrapper">

      <div>
        <input id="calcbutton" type="button" value="Calculate" style="float:center; width:90%; height:10%" />
        <div id="intro">
          <p> Please wait, loading Python ... </p>
          <noscript>Error: This app only works with Javascript enabled.</noscript>
        </div>
        <div style="height:2%"></div>
        <div id="Plot" style="height:85%; width:90%;">
        </div>
      </div>

      <div class="tab-wrapper">
        <div class="tabs">
          <div class="tab">
            <input type="radio" name="css-tabs" id="scripttab" checked class="tab-switch">
            <label for="scripttab" class="tab-label">script.py</label>
            <div class="tab-content" id="scriptdiv">
              <textarea id="scriptpy" style="float:left; width:100%; height:90%">
import numpy as np
from genie_python import genie as g
import inst

def runscript():
    for tt in [150, 300]:
        g.cset(T_head = tt, lowlimit = tt-5, highlimit = tt+5, runcontrol = True)
        g.begin()
        g.change_title(f'Some random sample - {tt}K')
        g.waitfor(uamps = 750)
        g.end()
              </textarea>
              <div style="height: 10%">
                <input type="file" id="upload" name="upload" accept=".py,text/plain" style="height:100%" />
                <button id="upload-button">Upload</button>
              </div>
            </div>

          </div>
          <div class="tab">
            <input type="radio" name="css-tabs" id="configtab" class="tab-switch">
            <label for="configtab" class="tab-label">config.json</label>
            <div class="tab-content" id="configdiv">
              <textarea id="configjson" style="float:left; width:100%; height:100%">
{
    "time": {
        "rate": 1.0,
        "always_advance": true,
        "units": "min"
    },
    "beam": {
        "rate": 127.0,
        "always_advance": true,
        "units": "Î¼A/min"
    },
    "events": {
        "rate": 1.0,
        "always_advance": true,
        "units": "Mevents/min"
    },
    "T_head": {
        "initial": 300.0,
        "rate_up": 10.0,
        "rate_down": -10.0,
        "units": "K"
    }
}</textarea>
            </div>
          </div>
        </div>
      </div>

    </div>

  </body>
</html>
